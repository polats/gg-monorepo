<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gem Shader Viewer</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family:
          'Inter',
          -apple-system,
          BlinkMacSystemFont,
          sans-serif;
        background: #1a1a1a;
        overflow: hidden;
      }
      #container {
        display: flex;
        height: 100vh;
      }
      #canvas-container {
        flex: 1;
        position: relative;
        background: #0a0a0a;
      }
      canvas {
        display: block;
        width: 100%;
        height: 100%;
      }
      #controls {
        width: 320px;
        background: #2a2a2a;
        color: #e0e0e0;
        padding: 24px;
        overflow-y: auto;
      }
      h1 {
        font-size: 24px;
        font-weight: 600;
        margin-bottom: 8px;
        color: #ffffff;
      }
      .description {
        font-size: 14px;
        color: #999;
        margin-bottom: 24px;
        line-height: 1.5;
      }
      .control-group {
        margin-bottom: 20px;
      }
      label {
        display: block;
        font-size: 13px;
        font-weight: 500;
        color: #e0e0e0;
        margin-bottom: 8px;
      }
      input[type='range'] {
        width: 100%;
        height: 4px;
        border-radius: 2px;
        background: #444;
        outline: none;
        -webkit-appearance: none;
      }
      input[type='range']::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        background: #fff;
        cursor: pointer;
      }
      .value-display {
        display: inline-block;
        font-size: 12px;
        color: #999;
        margin-left: 8px;
      }
      button,
      .gem-button {
        width: 100%;
        padding: 12px;
        background: #444;
        color: white;
        border: none;
        border-radius: 4px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        margin-top: 8px;
        transition: background 0.2s;
      }
      button:hover,
      .gem-button:hover {
        background: #555;
      }
      .gem-button.active {
        background: #666;
        border: 2px solid #fff;
      }
      .section-title {
        font-size: 12px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        color: #666;
        margin: 24px 0 12px 0;
      }
      .gem-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 8px;
        margin-bottom: 16px;
      }
      .gem-button {
        padding: 16px 8px;
        text-align: center;
        font-size: 12px;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <div id="canvas-container"></div>
      <div id="controls">
        <h1>Gem Shader Viewer</h1>
        <p class="description">
          Interactive gem shaders with glass-like material properties. Drag to rotate, scroll to
          zoom.
        </p>

        <div class="section-title">Select Gem Type</div>
        <div class="gem-grid">
          <button class="gem-button active" onclick="selectGem('diamond')">üíé Diamond</button>
          <button class="gem-button" onclick="selectGem('emerald')">üíö Emerald</button>
          <button class="gem-button" onclick="selectGem('ruby')">‚ù§Ô∏è Ruby</button>
          <button class="gem-button" onclick="selectGem('sapphire')">üíô Sapphire</button>
          <button class="gem-button" onclick="selectGem('amethyst')">üíú Amethyst</button>
        </div>

        <div class="section-title">Lighting</div>

        <div class="control-group">
          <label>Light Intensity</label>
          <input type="range" id="lightIntensity" min="0" max="3" step="0.1" value="2.0" />
          <span class="value-display" id="lightIntensity-value">2.0</span>
        </div>

        <div class="control-group">
          <label>Ambient Light</label>
          <input type="range" id="ambientLight" min="0" max="1" step="0.05" value="0.4" />
          <span class="value-display" id="ambientLight-value">0.4</span>
        </div>

        <div class="section-title">Shader Effect</div>

        <div class="control-group">
          <label>Shader Intensity</label>
          <input type="range" id="shaderIntensity" min="0" max="2" step="0.1" value="1.0" />
          <span class="value-display" id="shaderIntensity-value">1.0</span>
        </div>

        <div class="control-group">
          <label>Animation Speed</label>
          <input type="range" id="animSpeed" min="0" max="2" step="0.1" value="0.5" />
          <span class="value-display" id="animSpeed-value">0.5</span>
        </div>

        <div id="gemSpecificControls"></div>

        <div class="section-title">Material Properties</div>

        <div class="control-group">
          <label>Metalness</label>
          <input type="range" id="metalness" min="0" max="1" step="0.05" value="0.1" />
          <span class="value-display" id="metalness-value">0.1</span>
        </div>

        <div class="control-group">
          <label>Roughness</label>
          <input type="range" id="roughness" min="0" max="1" step="0.05" value="0.15" />
          <span class="value-display" id="roughness-value">0.15</span>
        </div>

        <div class="control-group">
          <label>Transparency</label>
          <input type="range" id="opacity" min="0.3" max="1" step="0.05" value="0.85" />
          <span class="value-display" id="opacity-value">0.85</span>
        </div>

        <div class="control-group">
          <label>Refraction Ratio</label>
          <input type="range" id="refractionRatio" min="0.5" max="1" step="0.01" value="0.98" />
          <span class="value-display" id="refractionRatio-value">0.98</span>
        </div>

        <div class="control-group">
          <label>Clearcoat</label>
          <input type="range" id="clearcoat" min="0" max="1" step="0.05" value="1.0" />
          <span class="value-display" id="clearcoat-value">1.0</span>
        </div>

        <div class="section-title">Actions</div>
        <button onclick="resetCamera()">Reset Camera</button>
        <button onclick="downloadImage()">Download PNG</button>
      </div>
    </div>

    <script>
      let currentGem = 'diamond';
      let scene,
        camera,
        renderer,
        gemGroup,
        shaderGem,
        glassGem,
        pointLight,
        ambientLightObj,
        controls;

      const params = {
        shaderIntensity: 1.0,
        animSpeed: 0.5,
        lightIntensity: 2.0,
        ambientLight: 0.4,
        metalness: 0.1,
        roughness: 0.15,
        opacity: 0.85,
        refractionRatio: 0.98,
        clearcoat: 1.0,
        // Gem-specific params
        facets: 8,
        dispersion: 0.3,
        turbulence: 0.5,
        glow: 0.6,
        layers: 5,
        density: 0.3,
        amplitude: 0.5,
        shimmer: 0.6,
        complexity: 5,
        refraction: 0.5,
      };

      // Gem colors
      const gemColors = {
        diamond: { r: 0.91, g: 0.96, b: 0.96 },
        emerald: { r: 0.31, g: 0.78, b: 0.47 },
        ruby: { r: 0.88, g: 0.07, b: 0.37 },
        sapphire: { r: 0.06, g: 0.32, b: 0.73 },
        amethyst: { r: 0.6, g: 0.4, b: 0.8 },
      };

      function init() {
        const container = document.getElementById('canvas-container');

        // Scene
        scene = new THREE.Scene();
        scene.background = new THREE.Color(0x0a0a0a);

        // Camera
        camera = new THREE.PerspectiveCamera(
          50,
          container.clientWidth / container.clientHeight,
          0.1,
          1000
        );
        camera.position.set(0, 0, 3);

        // Renderer
        renderer = new THREE.WebGLRenderer({ antialias: true, preserveDrawingBuffer: true });
        renderer.setSize(container.clientWidth, container.clientHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        renderer.toneMapping = THREE.ACESFilmicToneMapping;
        renderer.toneMappingExposure = 1.0;
        container.appendChild(renderer.domElement);

        // Lights
        ambientLightObj = new THREE.AmbientLight(0xffffff, params.ambientLight);
        scene.add(ambientLightObj);

        pointLight = new THREE.PointLight(0xffffff, params.lightIntensity, 100);
        pointLight.position.set(2, 2, 2);
        scene.add(pointLight);

        // Add a second light for better gem illumination
        const pointLight2 = new THREE.PointLight(0xffffff, params.lightIntensity * 0.5, 100);
        pointLight2.position.set(-2, -1, 2);
        scene.add(pointLight2);

        // Create gem group to hold both layers
        gemGroup = new THREE.Group();
        scene.add(gemGroup);

        // Inner shader layer - slightly smaller
        const shaderGeometry = new THREE.OctahedronGeometry(0.95, 2);
        const shaderMaterial = createShaderMaterial('diamond');
        shaderGem = new THREE.Mesh(shaderGeometry, shaderMaterial);
        gemGroup.add(shaderGem);

        // Outer glass layer
        const glassGeometry = new THREE.OctahedronGeometry(1, 2);
        const glassMaterial = new THREE.MeshPhysicalMaterial({
          color: 0xffffff,
          metalness: params.metalness,
          roughness: params.roughness,
          transparent: true,
          opacity: params.opacity,
          envMapIntensity: 1.0,
          clearcoat: params.clearcoat,
          clearcoatRoughness: 0.1,
          reflectivity: 1.0,
          refractionRatio: params.refractionRatio,
          side: THREE.DoubleSide,
          transmission: 0.9,
          ior: 2.4,
        });
        glassGem = new THREE.Mesh(glassGeometry, glassMaterial);
        gemGroup.add(glassGem);

        // OrbitControls
        controls = new THREE.OrbitControls(camera, renderer.domElement);
        controls.enableDamping = true;
        controls.dampingFactor = 0.05;
        controls.minDistance = 1.5;
        controls.maxDistance = 10;
        controls.autoRotate = true;
        controls.autoRotateSpeed = 1.0;

        window.addEventListener('resize', onWindowResize);

        animate();
      }

      function onWindowResize() {
        const container = document.getElementById('canvas-container');
        camera.aspect = container.clientWidth / container.clientHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(container.clientWidth, container.clientHeight);
      }

      function createShaderMaterial(gemType) {
        const color = gemColors[gemType];
        const uniforms = {
          u_time: { value: 0 },
          u_intensity: { value: params.shaderIntensity },
          u_speed: { value: params.animSpeed },
          u_color: { value: new THREE.Vector3(color.r, color.g, color.b) },
        };

        // Add gem-specific uniforms
        if (gemType === 'diamond') {
          uniforms.u_facets = { value: params.facets };
          uniforms.u_dispersion = { value: params.dispersion };
        } else if (gemType === 'emerald') {
          uniforms.u_layers = { value: params.layers };
          uniforms.u_density = { value: params.density };
        } else if (gemType === 'ruby') {
          uniforms.u_turbulence = { value: params.turbulence };
          uniforms.u_glow = { value: params.glow };
        } else if (gemType === 'sapphire') {
          uniforms.u_amplitude = { value: params.amplitude };
          uniforms.u_shimmer = { value: params.shimmer };
        } else if (gemType === 'amethyst') {
          uniforms.u_complexity = { value: params.complexity };
          uniforms.u_refraction = { value: params.refraction };
        }

        return new THREE.ShaderMaterial({
          uniforms: uniforms,
          vertexShader: `
                    varying vec3 vNormal;
                    varying vec3 vPosition;
                    void main() {
                        vNormal = normalize(normalMatrix * normal);
                        vPosition = position;
                        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                    }
                `,
          fragmentShader: getFragmentShader(gemType),
          transparent: true,
          side: THREE.DoubleSide,
        });
      }

      function getFragmentShader(gemType) {
        const baseShader = `
                uniform float u_time;
                uniform float u_intensity;
                uniform float u_speed;
                uniform vec3 u_color;
                varying vec3 vNormal;
                varying vec3 vPosition;
                
                float random(vec2 st) {
                    return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
                }
            `;

        if (gemType === 'diamond') {
          return (
            baseShader +
            `
                    uniform float u_facets;
                    uniform float u_dispersion;
                    void main() {
                        float t = u_time * u_speed;
                        float angle = atan(vNormal.y, vNormal.x) + t;
                        float facetAngle = 6.28318 / u_facets;
                        float facetPos = mod(angle, facetAngle) / facetAngle;
                        float sparkle = 1.0 - abs(facetPos * 2.0 - 1.0);
                        sparkle = pow(sparkle, 8.0) * u_intensity;
                        
                        // Rainbow dispersion
                        float hue = facetPos + t * 0.1;
                        vec3 rainbow = vec3(
                            sin(hue * 6.28318) * 0.5 + 0.5,
                            sin(hue * 6.28318 + 2.094) * 0.5 + 0.5,
                            sin(hue * 6.28318 + 4.189) * 0.5 + 0.5
                        );
                        
                        vec3 color = mix(u_color, rainbow, sparkle * u_dispersion);
                        color = mix(color, vec3(1.0), sparkle * 0.5);
                        gl_FragColor = vec4(color, 0.8);
                    }
                `
          );
        } else if (gemType === 'emerald') {
          return (
            baseShader +
            `
                    uniform float u_layers;
                    uniform float u_density;
                    float noise(vec2 p) {
                        vec2 i = floor(p);
                        vec2 f = fract(p);
                        f = f * f * (3.0 - 2.0 * f);
                        return mix(
                            mix(random(i), random(i + vec2(1.0, 0.0)), f.x),
                            mix(random(i + vec2(0.0, 1.0)), random(i + vec2(1.0, 1.0)), f.x),
                            f.y
                        );
                    }
                    float fbm(vec2 p) {
                        float value = 0.0;
                        float amplitude = 0.5;
                        for(float i = 0.0; i < 8.0; i++) {
                            if(i >= u_layers) break;
                            value += amplitude * noise(p);
                            p *= 2.0;
                            amplitude *= 0.5;
                        }
                        return value;
                    }
                    void main() {
                        float t = u_time * u_speed;
                        float n = fbm(vPosition.xy * 3.0 + t * 0.1);
                        float inclusion = smoothstep(0.6, 0.7, n) * u_density;
                        vec3 color = mix(u_color * 0.7, u_color * 1.3, n);
                        color = mix(color, u_color * 0.5, inclusion);
                        gl_FragColor = vec4(color * u_intensity, 0.8);
                    }
                `
          );
        } else if (gemType === 'ruby') {
          return (
            baseShader +
            `
                    uniform float u_turbulence;
                    uniform float u_glow;
                    float noise(vec2 p) {
                        vec2 i = floor(p);
                        vec2 f = fract(p);
                        f = f * f * (3.0 - 2.0 * f);
                        return mix(
                            mix(random(i), random(i + vec2(1.0, 0.0)), f.x),
                            mix(random(i + vec2(0.0, 1.0)), random(i + vec2(1.0, 1.0)), f.x),
                            f.y
                        );
                    }
                    void main() {
                        float t = u_time * u_speed;
                        float pulse = sin(t * 3.0) * 0.2 + 0.8;
                        float dist = length(vPosition.xy);
                        float core = 1.0 - smoothstep(0.0, u_glow, dist);
                        
                        // Fire turbulence
                        float fire = noise(vPosition.xy * 3.0 + vec2(0.0, t));
                        fire = mix(core, fire, u_turbulence);
                        
                        vec3 color = u_color * pulse * fire * core * u_intensity;
                        gl_FragColor = vec4(color, 0.8);
                    }
                `
          );
        } else if (gemType === 'sapphire') {
          return (
            baseShader +
            `
                    uniform float u_amplitude;
                    uniform float u_shimmer;
                    float noise(vec2 p) {
                        vec2 i = floor(p);
                        vec2 f = fract(p);
                        f = f * f * (3.0 - 2.0 * f);
                        return mix(
                            mix(random(i), random(i + vec2(1.0, 0.0)), f.x),
                            mix(random(i + vec2(0.0, 1.0)), random(i + vec2(1.0, 1.0)), f.x),
                            f.y
                        );
                    }
                    void main() {
                        float t = u_time * u_speed;
                        float wave1 = sin(vPosition.x * 8.0 + t * 2.0) * 0.5 + 0.5;
                        float wave2 = sin(vPosition.y * 6.0 - t * 1.5) * 0.5 + 0.5;
                        float waves = mix(0.5, (wave1 + wave2) / 2.0, u_amplitude);
                        
                        // Shimmer
                        float shimmerNoise = noise(vPosition.xy * 20.0 + t * 2.0);
                        shimmerNoise = smoothstep(0.6, 0.8, shimmerNoise);
                        
                        vec3 color = mix(u_color * 0.6, u_color * 1.4, waves);
                        color += vec3(0.3, 0.5, 0.7) * shimmerNoise * u_shimmer * 0.4;
                        gl_FragColor = vec4(color * u_intensity, 0.8);
                    }
                `
          );
        } else {
          // amethyst
          return (
            baseShader +
            `
                    uniform float u_complexity;
                    uniform float u_refraction;
                    void main() {
                        float t = u_time * u_speed;
                        float pattern = 0.0;
                        for(float i = 1.0; i <= 8.0; i++) {
                            if(i > u_complexity) break;
                            pattern += sin(vPosition.x * i * 2.0 + t) * sin(vPosition.y * i * 2.0 - t) / i;
                        }
                        pattern = pattern * 0.5 + 0.5;
                        
                        // Refraction effect
                        vec2 refractUv = vPosition.xy + (pattern - 0.5) * u_refraction * 0.2;
                        float refractPattern = sin(refractUv.x * 10.0) * sin(refractUv.y * 10.0);
                        refractPattern = refractPattern * 0.5 + 0.5;
                        
                        vec3 color = mix(u_color * 0.7, u_color * 1.3, mix(pattern, refractPattern, 0.5));
                        gl_FragColor = vec4(color * u_intensity, 0.8);
                    }
                `
          );
        }
      }

      function updateGemSpecificControls(gemType) {
        const container = document.getElementById('gemSpecificControls');
        let html = '<div class="section-title">Gem-Specific</div>';

        if (gemType === 'diamond') {
          html += `
                    <div class="control-group">
                        <label>Facet Count</label>
                        <input type="range" id="facets" min="4" max="16" step="1" value="${params.facets}" oninput="updateGemParam('facets', this.value)">
                        <span class="value-display" id="facets-value">${params.facets}</span>
                    </div>
                    <div class="control-group">
                        <label>Dispersion</label>
                        <input type="range" id="dispersion" min="0" max="1" step="0.05" value="${params.dispersion}" oninput="updateGemParam('dispersion', this.value)">
                        <span class="value-display" id="dispersion-value">${params.dispersion}</span>
                    </div>
                `;
        } else if (gemType === 'emerald') {
          html += `
                    <div class="control-group">
                        <label>Depth Layers</label>
                        <input type="range" id="layers" min="2" max="8" step="1" value="${params.layers}" oninput="updateGemParam('layers', this.value)">
                        <span class="value-display" id="layers-value">${params.layers}</span>
                    </div>
                    <div class="control-group">
                        <label>Inclusion Density</label>
                        <input type="range" id="density" min="0" max="1" step="0.05" value="${params.density}" oninput="updateGemParam('density', this.value)">
                        <span class="value-display" id="density-value">${params.density}</span>
                    </div>
                `;
        } else if (gemType === 'ruby') {
          html += `
                    <div class="control-group">
                        <label>Turbulence</label>
                        <input type="range" id="turbulence" min="0" max="1" step="0.05" value="${params.turbulence}" oninput="updateGemParam('turbulence', this.value)">
                        <span class="value-display" id="turbulence-value">${params.turbulence}</span>
                    </div>
                    <div class="control-group">
                        <label>Glow Radius</label>
                        <input type="range" id="glow" min="0" max="1" step="0.05" value="${params.glow}" oninput="updateGemParam('glow', this.value)">
                        <span class="value-display" id="glow-value">${params.glow}</span>
                    </div>
                `;
        } else if (gemType === 'sapphire') {
          html += `
                    <div class="control-group">
                        <label>Wave Amplitude</label>
                        <input type="range" id="amplitude" min="0" max="1" step="0.05" value="${params.amplitude}" oninput="updateGemParam('amplitude', this.value)">
                        <span class="value-display" id="amplitude-value">${params.amplitude}</span>
                    </div>
                    <div class="control-group">
                        <label>Shimmer</label>
                        <input type="range" id="shimmer" min="0" max="1" step="0.05" value="${params.shimmer}" oninput="updateGemParam('shimmer', this.value)">
                        <span class="value-display" id="shimmer-value">${params.shimmer}</span>
                    </div>
                `;
        } else if (gemType === 'amethyst') {
          html += `
                    <div class="control-group">
                        <label>Crystal Complexity</label>
                        <input type="range" id="complexity" min="2" max="8" step="1" value="${params.complexity}" oninput="updateGemParam('complexity', this.value)">
                        <span class="value-display" id="complexity-value">${params.complexity}</span>
                    </div>
                    <div class="control-group">
                        <label>Refraction</label>
                        <input type="range" id="refraction" min="0" max="1" step="0.05" value="${params.refraction}" oninput="updateGemParam('refraction', this.value)">
                        <span class="value-display" id="refraction-value">${params.refraction}</span>
                    </div>
                `;
        }

        container.innerHTML = html;
      }

      function updateGemParam(name, value) {
        params[name] = parseFloat(value);
        if (shaderGem && shaderGem.material.uniforms && shaderGem.material.uniforms['u_' + name]) {
          shaderGem.material.uniforms['u_' + name].value = params[name];
        }
        document.getElementById(name + '-value').textContent = value;
      }

      function animate() {
        requestAnimationFrame(animate);

        // Update shader time
        if (shaderGem && shaderGem.material.uniforms) {
          shaderGem.material.uniforms.u_time.value = performance.now() / 1000;
        }

        // Update controls
        controls.update();

        renderer.render(scene, camera);
      }

      function selectGem(gemType) {
        currentGem = gemType;

        // Update button states
        document.querySelectorAll('.gem-button').forEach((btn) => {
          btn.classList.remove('active');
        });
        event.target.classList.add('active');

        // Update shader material
        const newMaterial = createShaderMaterial(gemType);
        shaderGem.material.dispose();
        shaderGem.material = newMaterial;

        // Update gem-specific controls
        updateGemSpecificControls(gemType);
      }

      function updateParam(name, value) {
        params[name] = parseFloat(value);

        if (name === 'lightIntensity') {
          pointLight.intensity = params.lightIntensity;
        } else if (name === 'ambientLight') {
          ambientLightObj.intensity = params.ambientLight;
        } else if (name === 'shaderIntensity') {
          if (shaderGem && shaderGem.material.uniforms) {
            shaderGem.material.uniforms.u_intensity.value = params.shaderIntensity;
          }
        } else if (name === 'animSpeed') {
          if (shaderGem && shaderGem.material.uniforms) {
            shaderGem.material.uniforms.u_speed.value = params.animSpeed;
          }
        } else if (name === 'metalness') {
          glassGem.material.metalness = params.metalness;
        } else if (name === 'roughness') {
          glassGem.material.roughness = params.roughness;
        } else if (name === 'opacity') {
          glassGem.material.opacity = params.opacity;
        } else if (name === 'refractionRatio') {
          glassGem.material.refractionRatio = params.refractionRatio;
        } else if (name === 'clearcoat') {
          glassGem.material.clearcoat = params.clearcoat;
        }

        document.getElementById(name + '-value').textContent = value;
      }

      function resetCamera() {
        camera.position.set(0, 0, 3);
        controls.reset();
      }

      function downloadImage() {
        const link = document.createElement('a');
        link.download = `${currentGem}-gem.png`;
        link.href = renderer.domElement.toDataURL();
        link.click();
      }

      // Event listeners
      document
        .getElementById('shaderIntensity')
        .addEventListener('input', (e) => updateParam('shaderIntensity', e.target.value));
      document
        .getElementById('animSpeed')
        .addEventListener('input', (e) => updateParam('animSpeed', e.target.value));
      document
        .getElementById('lightIntensity')
        .addEventListener('input', (e) => updateParam('lightIntensity', e.target.value));
      document
        .getElementById('ambientLight')
        .addEventListener('input', (e) => updateParam('ambientLight', e.target.value));
      document
        .getElementById('metalness')
        .addEventListener('input', (e) => updateParam('metalness', e.target.value));
      document
        .getElementById('roughness')
        .addEventListener('input', (e) => updateParam('roughness', e.target.value));
      document
        .getElementById('opacity')
        .addEventListener('input', (e) => updateParam('opacity', e.target.value));
      document
        .getElementById('refractionRatio')
        .addEventListener('input', (e) => updateParam('refractionRatio', e.target.value));
      document
        .getElementById('clearcoat')
        .addEventListener('input', (e) => updateParam('clearcoat', e.target.value));

      // Initialize
      init();
      updateGemSpecificControls('diamond');
    </script>
  </body>
</html>
